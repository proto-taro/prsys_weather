<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Supabase連携テスト</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
  <form id="testForm">
    <input type="text" id="username" placeholder="名前"><br>
    <button type="submit">送信</button>
  </form>

  <script>
    const supabaseUrl = 'https://uzyfrplsptljlhqjayff.supabase.co' // ← あなたのURLに置き換え
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV6eWZycGxzcHRsamxocWpheWZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5Mzc5ODIsImV4cCI6MjA3NjUxMzk4Mn0.ysm-pWfEo-G9f_LhnbJf4JgIuGPm7jotc0G44L3sMCc' // ← あなたのキーに置き換え
    const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey)

    document.getElementById('testForm').addEventListener('submit', async function(e) {
      e.preventDefault()
      const name = document.getElementById('username').value
      const timestamp = new Date().toISOString()

      const { data, error } = await supabaseClient.from('weather_feedback').insert([
        { name, timestamp }
      ])

      if (error) {
        alert('送信失敗: ' + error.message)
      } else {
        alert('送信成功！')
      }
    })
  </script>
</body>
</html>
